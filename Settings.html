<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
  </head>
  <body onload="get()">
  
    <form>
    
    <label>What is your Discord Webhook URL?</label>
    <input id="webhook-url" type="url" autofocus required placeholder="Discord Webhook Here">
    <br><br>
    <input type="button" value="Save" onclick="save()">
    
    <script>
    function save() {
    var url = document.getElementById('webhook-url').value
    google.script.run.withFailureHandler(() => {
        Browser.msgbox("Error. Please try again.")    
    }).withSuccessHandler(() => {
        google.script.run.withFailureHandler(() => {
            Browser.msgbox("Error. Please try again.")    
        }).withSuccessHandler(() => {
            google.script.host.close();
        }).getSettings();
    }).saveSettings(url);
}

function get() {
    google.script.run.withSuccessHandler(settings => {
        document.getElementById('webhook-url').value = settings;
    }).getSettings();
}
    </script>
    
    </form>
    
  </body>
</html>


